<!DOCTYPE html>
<!--Client side web-form to select and upload image to server-->
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>ImageUpload</title>
    <script>
	function checkFileSize(inputFile) {
		var max =  10 * 1024*1024 // 10MB
		if (inputFile.files && inputFile.files[0].size > max) {
			alert("File too large."); // Do your thing to handle the error.
			inputFile.value = null; // Clear the field.
		}
		// saves file size to cookies in the following format : { "filesize" : "<size>"}
		fileSize = "filesize=".concat(inputFile.files[0].size.toString())
		document.cookie = fileSize;
	}
     </script>
</head>

<body>
<div class="container">
  <div class="row">
    <div class="col">

      <h1>Upload an image</h1>
      <hr>

      <form action="/uploadImage" method="POST" enctype="multipart/form-data">

        <div class="form-group">
          <label>Select image</label>
          <div class="custom-file">
            <input type="file" class="custom-file-input" name="image" id="image" oninput="checkFileSize(this);">
            <label class="custom-file-label" for="image">Select image...</label>
          </div>
        </div>

        <button type="submit" class="btn btn-primary">Upload</button>

      </form>

    </div>
  </div>
</div>

</body>

